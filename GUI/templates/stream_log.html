<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <!-- PAGE TITLE HERE -->
	<title>Xector | Dashboard</title>

	<link rel="stylesheet" href="./static/css/chartist.min.css">
	<link href="./static/css/nice-select.css" rel="stylesheet">
	<link href="./static/css/bootstrap-datetimepicker.min.css" rel="stylesheet">
	<!-- Style css -->
    <link href="./static/css/stream_log.css" rel="stylesheet">
    <link href="./static/css/style.css" rel="stylesheet">
</head>

<body>
    <div id="main-wrapper" class="show">

        <!--**********************************
            Nav header start
        ***********************************-->
        <div class="nav-header">
            <a href="index.html" class="brand-logo">
				<h3>
					XectoR
				</h3>
            </a>
			<div class="nav-control">
                <div class="hamburger">
                    <span class="line"></span><span class="line"></span><span class="line"></span>
                </div>
            </div>
        </div>
        <!--**********************************
            Nav header end
        ***********************************-->
		
		<!--**********************************
            Header start
        ***********************************-->
        <div class="header">
            <div class="header-content">
                <nav class="navbar navbar-expand">
                    <div class="collapse navbar-collapse justify-content-between">
                        <div class="header-left">
							<div class="dashboard_bar">
                                Dashboard
                            </div>
                        </div>
                        <ul class="navbar-nav header-right">
							<li class="nav-item dropdown notification_dropdown">
                                <a class="nav-link  ai-icon" href="javascript:void(0);" role="button" data-bs-toggle="dropdown">
                                   <svg width="20" height="24" viewBox="0 0 20 24" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path fill-rule="evenodd" clip-rule="evenodd" d="M8.83333 3.91738V1.50004C8.83333 0.856041 9.356 0.333374 10 0.333374C10.6428 0.333374 11.1667 0.856041 11.1667 1.50004V3.91738C12.9003 4.16704 14.5208 4.97204 15.7738 6.22504C17.3057 7.75687 18.1667 9.8347 18.1667 12V16.3914L19.1105 18.279C19.562 19.1832 19.5142 20.2565 18.9822 21.1164C18.4513 21.9762 17.5122 22.5 16.5018 22.5H11.1667C11.1667 23.144 10.6428 23.6667 10 23.6667C9.356 23.6667 8.83333 23.144 8.83333 22.5H3.49817C2.48667 22.5 1.54752 21.9762 1.01669 21.1164C0.484686 20.2565 0.436843 19.1832 0.889509 18.279L1.83333 16.3914V12C1.83333 9.8347 2.69319 7.75687 4.22502 6.22504C5.47919 4.97204 7.0985 4.16704 8.83333 3.91738ZM10 6.1667C8.45183 6.1667 6.96902 6.78154 5.87469 7.87587C4.78035 8.96904 4.16666 10.453 4.16666 12V16.6667C4.16666 16.8475 4.12351 17.026 4.04301 17.1882C4.04301 17.1882 3.52384 18.2265 2.9755 19.322C2.88567 19.5029 2.89501 19.7187 3.00117 19.8902C3.10734 20.0617 3.29517 20.1667 3.49817 20.1667H16.5018C16.7037 20.1667 16.8915 20.0617 16.9977 19.8902C17.1038 19.7187 17.1132 19.5029 17.0234 19.322C16.475 18.2265 15.9558 17.1882 15.9558 17.1882C15.8753 17.026 15.8333 16.8475 15.8333 16.6667V12C15.8333 10.453 15.2185 8.96904 14.1242 7.87587C13.0298 6.78154 11.547 6.1667 10 6.1667Z" fill="#1362FC"></path>
									</svg>
                                    <div class="pulse-css"></div>
                                </a>
                                <div class="dropdown-menu dropdown-menu-end">
                                    <div id="DZ_W_Notification1" class="widget-media dz-scroll p-3 ps" style="height:380px;">
										<ul class="timeline">
											<li>
												<div class="timeline-panel">
													<div class="media me-2">
														<img alt="image" width="50" src="./static/img/avatar/Avatar.png">
													</div>
													<div class="media-body">
														<h6 class="mb-1">test notif</h6>
														<small class="d-block">2 hours ago</small>
													</div>
												</div>
											</li>
										</ul>
									<div class="ps__rail-x" style="left: 0px; bottom: 0px;"><div class="ps__thumb-x" tabindex="0" style="left: 0px; width: 0px;"></div></div><div class="ps__rail-y" style="top: 0px; right: 0px;"><div class="ps__thumb-y" tabindex="0" style="top: 0px; height: 0px;"></div></div></div>
                                    <a class="all-notification" href="javascript:void(0);">See all notifications <i class="ti-arrow-end"></i></a>
                                </div>
                            </li>
                            <li class="nav-item dropdown header-profile">
                                <a class="nav-link" href="javascript:void(0);" role="button" data-bs-toggle="dropdown">
                                    <img src="./static/img/avatar/Avatar.png" alt="">
									<div class="header-info ms-3">
										<span>{to_replace_username}</span>
										<small>root</small>
									</div>
                                </a>
                                <div class="dropdown-menu dropdown-menu-end">
                                    <a href="#" class="dropdown-item ai-icon">
                                        <svg id="icon-user1" xmlns="http://www.w3.org/2000/svg" class="text-primary" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                                        <span class="ms-2">Profile </span>
                                    </a>
                                    <a href="/logout" class="dropdown-item ai-icon">
                                        <svg id="icon-logout" xmlns="http://www.w3.org/2000/svg" class="text-danger" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
                                        <span class="ms-2">Logout </span>
                                    </a>
                                </div>
                            </li>
                        </ul>
                    </div>
				</nav>
			</div>
		</div>
        <!--**********************************
            Header end ti-comment-alt
        ***********************************-->

        <!--**********************************
            Sidebar start
        ***********************************-->
        <div class="deznav">
            <div class="deznav-scroll mm-active ps ps--active-y">
				<ul class="metismenu mm-show" id="menu">
                    <li>
                        <a class="ai-icon" href="/dashboard">
							<i class="flaticon-025-dashboard"></i>
							<span class="nav-text">Dashboard</span>
						</a>
                    </li>
                    <li>
                        <a class="ai-icon" href="/attack">
                            <i class="flaticon-381-settings"></i>
                            <span class="nav-text">Attack</span>
                        </a>
                    </li>
                    <li>
                        <a class="has-arrow ai-icon" href="javascript:void()" aria-expanded="false">
                            <i class="flaticon-381-file"></i>
                            <span class="nav-text">Scripts</span>
                        </a>
                        <ul aria-expanded="false" class="mm-collapse">
                            <li><a href="/scripts">Scripts</a></li>	
                        </ul>
                    </li>
                    <li>
                        <a class="ai-icon" href="/docs">
                            <i class="flaticon-381-search-1"></i>
                            <span class="nav-text">Docs</span>
                        </a>
                    </li>
                </ul>
			<div class="ps__rail-x" style="left: 0px; bottom: 0px;"><div class="ps__thumb-x" tabindex="0" style="left: 0px; width: 0px;"></div></div><div class="ps__rail-y" style="top: 0px; height: 834px; right: 0px;"><div class="ps__thumb-y" tabindex="0" style="top: 0px; height: 805px;"></div></div></div>
        </div>
        <!--**********************************
            Sidebar end
        ***********************************-->
		
		<!--**********************************
            Content body start
        ***********************************-->
        <div class="content-body">
            <!-- row -->
        <div class="container-fluid">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                            {to_replace_text}
                            <div id="terminal">
                                <section id="terminal__bar">
                                    <div id="bar__buttons">
                                        <button class="bar__button" id="bar__button--exit"></button>
                                        <button class="bar__button" id="bar__button--minimize"></button>
                                        <button class="bar__button" id="bar__button--maximize"></button>
                                    </div>
                                    <p id="bar__user">xegtor@xegtor: ~</p>
                                </section>
                                <textarea id="terminal__body" readonly style="font-size : 20px"></textarea>
                            </div>
                            <a href="/scripts" class="btn btn-primary btn-block my-3">back</a>
                        </div>
                    </div>
                </div>
                <p class="separator"><p>
            </div>
        </div>
        <!--**********************************
            Content body end
        ***********************************-->
	</div>
    <!--**********************************
        Scripts
    ***********************************-->
    <!-- Required vendors -->
    <script src="./static/js/global.min.js"></script>
	<script src="./static/js/Chart.bundle.min.js"></script>
	<script src="./static/js/jquery.nice-select.min.js"></script>
	
	<!-- Chart piety plugin files -->
    <script src="./static/js/jquery.peity.min.js"></script>
	
	<!-- Apex Chart -->
	<script src="./static/js/apexchart.js"></script>
	
	<script src="./static/js/moment.js"></script>
	<script src="./static/js/bootstrap-datetimepicker.min.js"></script>
	
	<!-- Dashboard 1 -->
	<script src="./static/js/dashboard/dashboard-1.js"></script>
    <script src="./static/js/custom.min.js"></script>
	<script src="./static/js/deznav-init.js"></script>
    <script src='https://kit.fontawesome.com/a076d05399.js'></script>
	<!-- <script src="js/demo.js"></script> -->
    <script>
        var last_text = "";
        $(document).ready(function() {
            var output = document.getElementById('output');
            var xhr = new XMLHttpRequest();
            xhr.open('GET', "{{ url_for('stream_log') }}", true);
            xhr.setRequestHeader("script", "{script_name}");
            xhr.send();
            setInterval(function() {
                insertText(xhr.responseText);
            }, 500);
        });

        function insertText(text) {
            if (last_text != text) {
                last_text = text
                document.getElementById("terminal__body").value = "\n" + text;
                document.getElementById("terminal__body").scrollTop = document.getElementById("terminal__body").scrollHeight
            }
        }
    </script>
</body>
</html>