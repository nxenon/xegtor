<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <!-- PAGE TITLE HERE -->
	<title>Xegtor | Dashboard</title>

	<link rel="stylesheet" href="./static/css/chartist.min.css">
	<link href="./static/css/nice-select.css" rel="stylesheet">
	<link href="./static/css/bootstrap-datetimepicker.min.css" rel="stylesheet">
	<!-- Style css -->
    <link href="./static/css/stream_log.css" rel="stylesheet">
    <link href="./static/css/style.css" rel="stylesheet">
</head>

<body>
    <div id="main-wrapper" class="show">

        <!--**********************************
            Nav header start
        ***********************************-->
        <div class="nav-header">
            <a href="/" class="brand-logo">
				<h3>
					Xegtor
				</h3>
            </a>
			<div class="nav-control">
                <div class="hamburger">
                    <span class="line"></span><span class="line"></span><span class="line"></span>
                </div>
            </div>
        </div>
        <!--**********************************
            Nav header end
        ***********************************-->
		
		<!--**********************************
            Header start
        ***********************************-->
        <div class="header">
            <div class="header-content">
                <nav class="navbar navbar-expand">
                    <div class="collapse navbar-collapse justify-content-between">
                        <div class="header-left">
							<div class="dashboard_bar">
                                Dashboard
                            </div>
                        </div>
                        <ul class="navbar-nav header-right">
                            <li class="nav-item dropdown header-profile">
                                <a class="nav-link" href="javascript:void(0);" role="button" data-bs-toggle="dropdown">
                                    <img src="./static/img/avatar/Avatar.png" alt="">
									<div class="header-info ms-3">
										<span>{to_replace_username}</span>
										<small>root</small>
									</div>
                                </a>
                                <div class="dropdown-menu dropdown-menu-end">
                                    <a href="/logout" class="dropdown-item ai-icon">
                                        <svg id="icon-logout" xmlns="http://www.w3.org/2000/svg" class="text-danger" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
                                        <span class="ms-2">Logout </span>
                                    </a>
                                </div>
                            </li>
                        </ul>
                    </div>
				</nav>
			</div>
		</div>
        <!--**********************************
            Header end ti-comment-alt
        ***********************************-->

        <!--**********************************
            Sidebar start
        ***********************************-->
        <div class="deznav">
            <div class="deznav-scroll mm-active ps ps--active-y">
				<ul class="metismenu mm-show" id="menu">
                    <li>
                        <a class="ai-icon" href="/dashboard">
							<i class="flaticon-025-dashboard"></i>
							<span class="nav-text">Dashboard</span>
						</a>
                    </li>
                    <li>
                        <a class="ai-icon" href="/attack">
                            <i class="flaticon-381-settings"></i>
                            <span class="nav-text">Attack</span>
                        </a>
                    </li>
                    <li>
                        <a class="has-arrow ai-icon" href="javascript:void()" aria-expanded="false">
                            <i class="flaticon-381-file"></i>
                            <span class="nav-text">Scripts</span>
                        </a>
                        <ul aria-expanded="false" class="mm-collapse">
                            <li><a href="/scripts">Scripts</a></li>	
                        </ul>
                    </li>
                    <li>
                        <a class="ai-icon" href="/docs">
                            <i class="flaticon-381-search-1"></i>
                            <span class="nav-text">Docs</span>
                        </a>
                    </li>
                </ul>
			<div class="ps__rail-x" style="left: 0px; bottom: 0px;"><div class="ps__thumb-x" tabindex="0" style="left: 0px; width: 0px;"></div></div><div class="ps__rail-y" style="top: 0px; height: 834px; right: 0px;"><div class="ps__thumb-y" tabindex="0" style="top: 0px; height: 805px;"></div></div></div>
        </div>
        <!--**********************************
            Sidebar end
        ***********************************-->
		
		<!--**********************************
            Content body start
        ***********************************-->
        <div class="content-body">
            <!-- row -->
        <div class="container-fluid">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                            {to_replace_text}
                            <div id="terminal">
                                <section id="terminal__bar">
                                    <div id="bar__buttons">
                                        <button class="bar__button" id="bar__button--exit"></button>
                                        <button class="bar__button" id="bar__button--minimize"></button>
                                        <button class="bar__button" id="bar__button--maximize"></button>
                                    </div>
                                    <p id="bar__user">xegtor@xegtor: ~</p>
                                </section>
                                <textarea id="terminal__body" readonly style="font-size : 20px"></textarea>
                            </div>
                            <a href="/scripts" class="btn btn-primary btn-block my-3">back</a>
                        </div>
                    </div>
                </div>
                <p class="separator"><p>
            </div>
        </div>
        <!--**********************************
            Content body end
        ***********************************-->
	</div>
    <!--**********************************
        Scripts
    ***********************************-->
    <!-- Required vendors -->
    <script src="./static/js/global.min.js"></script>
	<script src="./static/js/Chart.bundle.min.js"></script>
	<script src="./static/js/jquery.nice-select.min.js"></script>
	
	<!-- Chart piety plugin files -->
    <script src="./static/js/jquery.peity.min.js"></script>
	
	<!-- Apex Chart -->
	<script src="./static/js/apexchart.js"></script>
	
	<script src="./static/js/moment.js"></script>
	<script src="./static/js/bootstrap-datetimepicker.min.js"></script>
	
	<!-- Dashboard 1 -->
	<script src="./static/js/dashboard/dashboard-1.js"></script>
    <script src="./static/js/custom.min.js"></script>
	<script src="./static/js/deznav-init.js"></script>
    <script src='https://kit.fontawesome.com/a076d05399.js'></script>
	<!-- <script src="js/demo.js"></script> -->
    <script>
        var last_text = "";
        $(document).ready(function() {
            var output = document.getElementById('output');
            var xhr = new XMLHttpRequest();
            xhr.open('GET', "{{ url_for('stream_log') }}", true);
            xhr.setRequestHeader("script", "{script_name}");
            xhr.send();
            setInterval(function() {
                insertText(xhr.responseText);
            }, 500);
        });

        function insertText(text) {
            if (last_text != text) {
                last_text = text
                document.getElementById("terminal__body").value = "\n" + text;
                document.getElementById("terminal__body").scrollTop = document.getElementById("terminal__body").scrollHeight
            }
        }
    </script>
</body>
</html>